<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Belajar Persamaan Garis Lurus Interaktif</title>
<style>
body{
  font-family:'Poppins', sans-serif;
  margin:0; padding:0;
  background: linear-gradient(135deg,#fceabb,#f8b500); /* background gradient */
  color:#333;
}
.page{ display:none; padding:20px; }
.active{ display:block; }
h2{ color:#2c3e50; text-align:center; margin-bottom:20px;}
.card{
  padding:15px; 
  margin-bottom:15px; 
  border-radius:10px; 
  box-shadow:0px 5px 15px rgba(0,0,0,0.1);
  color:#333;
}
.card1{ background:#ffe5e0; }
.card2{ background:#e0f7ff; }
.card3{ background:#e0ffe5; }
.card4{ background:#fff0e0; }
.highlight{color:#e67e22; font-weight:bold;}
canvas{
  display:block; margin:10px auto; 
  background:white; 
  border:1px solid #ccc;
}
button{
  padding:10px 20px;
  margin:5px;
  border:none;
  border-radius:6px;
  cursor:pointer;
  background:#3498db;
  color:white;
  font-weight:bold;
  transition:0.3s;
}
button:hover{ background:#2980b9; transform:scale(1.05);}
input[type=number]{ padding:5px; width:80px; margin-right:10px;}
.quiz-box{
  background:white;
  margin:15px auto;
  padding:15px;
  width:80%;
  border-radius:10px;
  box-shadow:0px 5px 15px rgba(0,0,0,0.1);
}
.explanation{ font-style:italic; margin-top:5px; color:#555;}
.correct{ color:#2ecc71; font-weight:bold;}
.wrong{ color:#e74c3c; font-weight:bold;}
.control{ margin:15px;}
select{ padding:5px; margin-right:10px;}
</style>
</head>
<body>

<!-- ================= HALAMAN 1 ================= -->
<div id="page1" class="page active">
<h2>üìò Persamaan Garis Lurus</h2>

<div class="card card1">
<h3>1. Bentuk Umum</h3>
<p>Persamaan garis lurus biasanya ditulis sebagai <span class="highlight">y = mx + c</span>, di mana:</p>
<ul>
  <li><span class="highlight">m</span> = gradien / kemiringan garis</li>
  <li><span class="highlight">c</span> = titik potong garis dengan sumbu Y</li>
</ul>
</div>

<div class="card card2">
<h3>2. Gradien (m)</h3>
<ul>
<li>Jika m > 0, garis naik dari kiri ke kanan</li>
<li>Jika m < 0, garis turun dari kiri ke kanan</li>
<li>Jika m = 0, garis horizontal</li>
</ul>
</div>

<div class="card card3">
<h3>3. Titik potong Y (c)</h3>
<p>Titik c menentukan tempat garis memotong sumbu Y. Misal, jika c = 2, garis memotong sumbu Y di y=2.</p>
</div>

<div class="card card4">
<h3>4. Contoh Soal</h3>
<p><b>Soal 1:</b> Jika m = 3 dan c = 1, hitung y saat x = 4</p>
<canvas id="miniGrafik1" width="300" height="200"></canvas>
<p><b>Jawaban:</b> y = 3*4 + 1 = 13</p>
</div>

<div class="card card1">
<p><b>Soal 2:</b> Tentukan persamaan garis yang melalui titik (1,2) dan (3,6)</p>
<p>Gradien: m = (6-2)/(3-1) = 2</p>
<p>Titik potong: c = y - mx = 2 - 2*1 = 0</p>
<p>Persamaan: y = 2x + 0</p>
</div>

<button onclick="nextPage(2)">‚û°Ô∏è Lanjut ke Grafik Interaktif</button>
</div>

<!-- ================= HALAMAN 2 ================= -->
<div id="page2" class="page">
<h2>üìä Grafik Interaktif</h2>
<div class="control">Gradien (m): <input type="range" id="m" min="-100" max="100" value="1"> <span id="mVal">1</span></div>
<div class="control">Titik potong (c): <input type="range" id="c" min="-100" max="100" value="0"> <span id="cVal">0</span></div>
<canvas id="grafik" width="400" height="400"></canvas>
<p id="persamaan" style="text-align:center; font-size:18px;"></p>
<button onclick="nextPage(1)">‚¨ÖÔ∏è Kembali ke Materi</button>
<button onclick="nextPage(3)">‚û°Ô∏è Lanjut ke Kuis</button>
</div>

<!-- ================= HALAMAN 3 ================= -->
<div id="page3" class="page">
<h2>üìù Kuis Angka & Pilihan</h2>
<div id="quiz"></div>
<h3 id="score"></h3>
<button onclick="nextPage(2)">‚¨ÖÔ∏è Kembali ke Grafik</button>
</div>

<script>
/* =================== NAVIGASI =================== */
function nextPage(n){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById('page'+n).classList.add('active');
}

/* =================== MINI GRAFIK CONTOH =================== */
function drawMiniGrafik(canvasId,m,c){
  const canvas=document.getElementById(canvasId);
  const ctx=canvas.getContext("2d");
  ctx.clearRect(0,0,canvas.width,canvas.height);
  // Sumbu sederhana
  ctx.strokeStyle="#333";
  ctx.beginPath();
  ctx.moveTo(30,canvas.height-30); ctx.lineTo(30,10);
  ctx.moveTo(10,canvas.height-30); ctx.lineTo(canvas.width-10,canvas.height-30);
  ctx.stroke();
  // Garis
  ctx.strokeStyle="blue";
  ctx.beginPath();
  let y1=canvas.height-30 - (m*0 + c*10);
  let y2=canvas.height-30 - (m*4 + c*10);
  ctx.moveTo(30,y1);
  ctx.lineTo(canvas.width-10,y2);
  ctx.stroke();
}
drawMiniGrafik("miniGrafik1",3,1);

/* =================== GRAFIK INTERAKTIF =================== */
const canvas=document.getElementById("grafik");
const ctx=canvas.getContext("2d");
const mSlider=document.getElementById("m");
const cSlider=document.getElementById("c");

function drawGraph(m,c){
  ctx.clearRect(0,0,400,400);
  // Grid + angka
  ctx.strokeStyle="#eee"; ctx.lineWidth=1;
  for(let i=0;i<=400;i+=40){
    ctx.beginPath(); ctx.moveTo(i,0); ctx.lineTo(i,400); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(0,i); ctx.lineTo(400,i); ctx.stroke();
  }
  // Sumbu
  ctx.strokeStyle="#333"; ctx.lineWidth=2;
  ctx.beginPath();
  ctx.moveTo(200,0); ctx.lineTo(200,400);
  ctx.moveTo(0,200); ctx.lineTo(400,200);
  ctx.stroke();
  // Angka koordinat
  ctx.fillStyle="#333"; ctx.font="12px Arial";
  for(let i=-10;i<=10;i++){
    ctx.fillText(i, 200 + i*20 -4, 205); // X-axis
    ctx.fillText(-i, 205, 200 + i*20 +4); // Y-axis
  }
  // Garis
  ctx.strokeStyle="blue"; ctx.lineWidth=3;
  ctx.beginPath();
  ctx.moveTo(0,200-(m*-10 + c));
  ctx.lineTo(400,200-(m*10 + c));
  ctx.stroke();
  // Persamaan
  document.getElementById("persamaan").innerHTML=`Persamaan: <b>y = ${m}x + ${c}</b>`;
}
mSlider.oninput=cSlider.oninput=()=>{
  document.getElementById("mVal").textContent=mSlider.value;
  document.getElementById("cVal").textContent=cSlider.value;
  drawGraph(Number(mSlider.value),Number(cSlider.value));
};
drawGraph(1,0);

/* =================== QUIZ MIX =================== */
const soal=[
 {t:"Jika m=2 dan c=1, hitung y saat x=3", a:7, e:"y = 2*3 + 1 = 7", type:"input"},
 {t:"Jika m=-3 dan c=4, hitung y saat x=2", a:-2, e:"y = -3*2 + 4 = -2", type:"input"},
 {t:"Tentukan persamaan garis y saat m=1, c=2, x=5", a:7, e:"y = 1*5 +2 =7", type:"select", options:[6,7,8]},
 {t:"Jika garis melalui (1,2) dan (3,6), tentukan m", a:2, e:"m = (6-2)/(3-1)=2", type:"select", options:[1,2,3]},
 {t:"Jika m=0, c=3, hitung y saat x=10", a:3, e:"y = 0*10 +3 =3", type:"input"},
 {t:"Jika m=1, c=-2, hitung y saat x=5", a:3, e:"y = 1*5 -2 =3", type:"input"},
 {t:"Jika garis melalui (0,1) dan (2,5), tentukan c", a:1, e:"c = y - m*x =1 -2*0 =1", type:"select", options:[0,1,2]},
 {t:"Jika m=4, c=0, hitung y saat x=2", a:8, e:"y = 4*2 +0 =8", type:"input"},
 {t:"Jika m=-1, c=5, hitung y saat x=3", a:2, e:"y=-1*3+5=2", type:"input"},
 {t:"Jika m=2, c=0, hitung y saat x=4", a:8, e:"y=2*4+0=8", type:"select", options:[6,8,10]}
];
let skor=0;
const quizDiv=document.getElementById("quiz");

soal.forEach((s,i)=>{
  const box=document.createElement("div");
  box.className="quiz-box";
  let html=`<p>${i+1}. ${s.t}</p>`;
  if(s.type==="input"){
    html+=`<input type="number" id="ans${i}" placeholder="Jawaban">
           <button onclick="cek(${i})">Submit</button>`;
  }else{
    html+=`<select id="ans${i}">`;
    s.options.forEach(o=>{
      html+=`<option value="${o}">${o}</option>`;
    });
    html+=`</select><button onclick="cek(${i})">Submit</button>`;
  }
  html+=`<p class="explanation" id="exp${i}"></p>`;
  box.innerHTML=html;
  quizDiv.appendChild(box);
});

function cek(i){
  const input = Number(document.getElementById("ans"+i).value);
  if(soal[i].done) return;
  soal[i].done=true;
  const exp = document.getElementById("exp"+i);
  if(input === soal[i].a){
    skor++;
    exp.innerHTML = `‚úÖ Benar! Penjelasan: ${soal[i].e}`;
    exp.className="explanation correct";
  }else{
    exp.innerHTML = `‚ùå Salah! Penjelasan: ${soal[i].e}`;
    exp.className="explanation wrong";
  }
  document.getElementById("score").innerHTML=`Skor: ${skor} / 10`;
}
</script>

</body>
</html>
